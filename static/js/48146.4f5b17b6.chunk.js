"use strict";(self.webpackChunkn2_station=self.webpackChunkn2_station||[]).push([[48146],{2991:(t,i,s)=>{s.r(i),s.d(i,{default:()=>r});var e=s(35143),n=s(69539),o=(s(76460),s(81806),s(47249),s(50076),s(85842)),l=s(77200);let a=class extends l.default{constructor(t){super(t)}getStopInfo(t){var i;const{min:s,max:e,stops:o}=this;if(null===o||void 0===o||!o.length)return[];const l=null===(i=this._getColorForStops(t))||void 0===i?void 0:i.toRgb();return o.map(t=>({color:new n.default(l&&[...l,t.opacity]),offset:(e-t.value)/(e-s)}))}_getColorForStops(t){return t?t instanceof n.default?t:n.default.fromString(t):null}};a=(0,e._)([(0,o.$)("esri.widgets.smartMapping.OpacitySlider.OpacitySliderViewModel")],a);const r=a},48146:(t,i,s)=>{s.r(i),s.d(i,{default:()=>f});var e,n=s(89379),o=s(35143),l=s(69539),a=s(46053),r=s(21403),h=(s(81806),s(47249),s(85842)),u=s(51313),m=s(2991),d=s(98108),p=(s(76099),s(63582)),c=s(54761);const g="esri-opacity-slider",v={base:g,rampElement:"".concat(g,"__ramp"),sliderContainer:"".concat(g,"__slider-container"),histogramContainer:"".concat(g,"__histogram-container"),track:"".concat(g,"--interactive-track")},_={trackFillColor:new l.default([0,121,193])};let x=e=class extends u.default{constructor(t,i){super(t,i),this.messages=null,this.style=(0,n.A)({},_),this.viewModel=new m.default,this._rampFillId="".concat(this.id,"-ramp-fill"),this._bgFillId="".concat(this.id,"-bg-fill")}get label(){var t,i;return null!==(t=null===(i=this.messages)||void 0===i?void 0:i.widgetLabel)&&void 0!==t?t:""}set label(t){this._overrideIfSome("label",t)}get stops(){return this.viewModel.stops}set stops(t){this.viewModel.stops=t}castStyle(t){return(0,n.A)((0,n.A)({},_),t)}static fromVisualVariableResult(t,i){const{visualVariable:{stops:s},statistics:n}=t,{avg:o,max:l,min:a,stddev:r}=n;return new e({max:null!==l&&void 0!==l?l:void 0,min:null!==a&&void 0!==a?a:void 0,stops:s,histogramConfig:{average:null!==o&&void 0!==o?o:void 0,standardDeviation:null!==r&&void 0!==r?r:void 0,bins:i?i.bins:[]}})}updateFromVisualVariableResult(t,i){const{visualVariable:{stops:s},statistics:e}=t,{avg:n,max:o,min:l,stddev:a}=e;this.set({max:o,min:l,stops:s,histogramConfig:{average:n,standardDeviation:a,bins:i?i.bins:[]}})}render(){const{state:t,label:i,visibleElements:s}=this,e="disabled"===t,n=this.classes(v.base,d.D.widget,d.D.panel,{[d.D.disabled]:e,[v.track]:!!s.interactiveTrack});return(0,c.K)("div",{"aria-label":i,class:n},e?null:this.renderContent(this._renderRamp(),v.sliderContainer,v.histogramContainer))}_renderRamp(){const{_bgFillId:t,_rampFillId:i,style:{trackFillColor:s},viewModel:e,zoomOptions:n}=this,o=e.getStopInfo(s);return(0,c.K)("div",{class:v.rampElement},(0,c.K)("svg",{xmlns:"http://www.w3.org/2000/svg"},(0,c.K)("defs",null,this.renderRampFillDefinition(i,o),this.renderBackgroundFillDefinition(t)),(0,c.K)("rect",{fill:"url(#".concat(t,")"),height:"100%",width:"100%",x:"0",y:"0"}),(0,c.K)("rect",{fill:"url(#".concat(i,")"),height:"100%",width:"100%",x:"0",y:"0"})),n?this.renderZoomCaps():null)}};(0,o._)([(0,a.MZ)()],x.prototype,"label",null),(0,o._)([(0,a.MZ)(),(0,p.G)("esri/widgets/smartMapping/OpacitySlider/t9n/OpacitySlider")],x.prototype,"messages",void 0),(0,o._)([(0,a.MZ)()],x.prototype,"stops",null),(0,o._)([(0,a.MZ)()],x.prototype,"style",void 0),(0,o._)([(0,r.w)("style")],x.prototype,"castStyle",null),(0,o._)([(0,a.MZ)({type:m.default})],x.prototype,"viewModel",void 0),x=e=(0,o._)([(0,h.$)("esri.widgets.smartMapping.OpacitySlider")],x);const f=x},77200:(t,i,s)=>{s.r(i),s.d(i,{default:()=>u});var e=s(89379),n=s(35143),o=s(46053),l=(s(81806),s(76460),s(47249),s(85842)),a=s(6515),r=s(7095);let h=class extends a.default{constructor(t){super(t),this._initialStopValues=[],this._max=null,this._min=null,this.hasTimeData=!1,this.inputFormatFunction=(t,i)=>"max"===i?this.getUnzoomedMax().toString():"min"===i?this.getUnzoomedMin().toString():t.toString(),this.inputParseFunction=null,this.labelFormatFunction=t=>{if(this.hasTimeData)return(0,r.formatDateLabel)(t);const{max:i,min:s,precision:e}=this,n=i-s>10?2:e;return(0,r.formatNumberLabel)(parseFloat(t.toFixed(n)))},this.thumbsConstrained=!1,this.zoomingEnabled=!0}set breaks(t){this._set("breaks",t),this.notifyChange("max"),this.notifyChange("min")}set stops(t){if(null!==t&&void 0!==t&&t.length){const{max:i,min:s}=this,n=this.getValuesFromStops(t),o={};null!=s&&n.some(t=>t<s)&&(o.min=Math.min(...n)),null!=i&&n.some(t=>t>i)&&(o.max=Math.max(...n)),this.set((0,e.A)({},o)),this._initialStopValues=n}else this._initialStopValues=null;this._set("stops",t||null),this.notifyChange("values")}get labels(){const{values:t}=this,i=t&&t.length?t.map((t,i)=>this.getLabelForValue(t,"value",i)):[],s=this.getUnzoomedMax(),e=this.getUnzoomedMin();return{max:this.getLabelForValue(s,"max"),min:this.getLabelForValue(e,"min"),values:i}}get max(){const{breaks:t}=this;return null!==t&&void 0!==t&&t.length?t[t.length-1].max:this.max}set max(t){const{zoomOptions:i}=this;if(null!=(null===i||void 0===i?void 0:i.max)){const s=this.values;let e=i.max;if(t<e&&(e=t,i.max=t),s&&s.length)for(let i=0;i<s.length;i++)t<s[i]&&this.setValue(i,t);this._storeZoomMax(e,t)}else this.updateBreakMax(t),this.setMax(t);this.notifyChange("labels")}get min(){const{breaks:t}=this;return null!==t&&void 0!==t&&t.length?t[0].min:this.min}set min(t){const{zoomOptions:i}=this;if(null!=(null===i||void 0===i?void 0:i.min)){const s=this.values;let e=i.min;if(t>e&&(e=t,i.min=t),s&&s.length)for(let i=0;i<s.length;i++)t>s[i]&&this.setValue(i,t);this._storeZoomMin(e,t)}else this.updateBreakMin(t),this.setMin(t);this.notifyChange("labels")}get state(){const{max:t,min:i,values:s}=this;return null!=t&&null!=i&&s.length>0?"ready":"disabled"}get values(){const{breaks:t,stops:i}=this;if(!t&&!i)return[];if(null!==t&&void 0!==t&&t.length){const i=t.map(t=>t.max);return i.pop(),i}if((null===i||void 0===i?void 0:i.length)<2)return[];const s=this.getValuesFromStops();return[s[0],s[s.length-1]]}set zoomOptions(t){const{zoomingEnabled:i,zoomOptions:s}=this;if(i){if(s){const i=null!=this._max?this._max:this.max,s=null!=this._min?this._min:this.min;if(t){const{max:e,min:n}=t,o=null!=e,l=null!=n,a=l?t.min:s,r=l?s:null,h=o?t.max:i,u=o?i:null;this._storeZoomMin(a,r),this._storeZoomMax(h,u)}else this.setMax(i),this.setMin(s),this._min=null,this._max=null}else if(t){const{max:i,min:s}=t;null!=s&&this._storeZoomMin(t.min,this.min),null!=i&&this._storeZoomMax(t.max,this.max)}this._set("zoomOptions",t),this.notifyChange("max"),this.notifyChange("min")}}getStopIndexFromValueIndex(t){const{stops:i}=this,s=this.values[t];return 0===t?s<=this.values[1]?0:i.length-1:1===t?this.values[0]>=s?0:i.length-1:null}getStopChanges(t,i){const s=this.stops,e=this.getStopIndexFromValueIndex(t),n=this.getValuesFromStops();n[e]=i;const[o,l]=[n[0],n[n.length-1]].sort((t,i)=>t>i?1:-1),a=l-o,r=s.length-1;return n.map((t,i)=>({index:i,value:this.toPrecision(o+i*a/r)}))}setValue(t,i){var s;const{max:e,min:n,values:o}=this,l=o[t];if(isNaN(i)||l===i||i>e||i<n)return;o[t]=this.toPrecision(i),this._set("values",[...o]);const a=o.slice().sort((t,i)=>t>i?1:-1),h=a[0],u=a[a.length-1],m=(0,r.getStopChanges)(h,u,null!==(s=this._initialStopValues)&&void 0!==s?s:[]);this.updateStops(m),this.updateBreaks(),this.notifyChange("labels")}getValuesFromStops(t){const i=t||this.stops;return null===i||void 0===i?void 0:i.map(t=>t.hasOwnProperty("ratio")?t.ratio:t.value)}updateBreaks(){const{breaks:t,values:i}=this;(null===t||void 0===t?void 0:t.length)&&i.slice().sort((t,i)=>t>i?1:-1).forEach((i,s)=>{t[s].max=i,null!=t[s+1]&&(t[s+1].min=i)})}updateBreakMax(t){const{breaks:i,max:s,min:e}=this;!isNaN(t)&&s!==t&&null!=e&&t>e&&(null===i||void 0===i?void 0:i.length)&&(i[i.length-1].max=t)}updateBreakMin(t){const{breaks:i,max:s,min:e}=this;!isNaN(t)&&e!==t&&null!=s&&t<s&&(null===i||void 0===i?void 0:i.length)&&(i[0].min=t)}updateStops(t){const{stops:i}=this,s=this.getValuesFromStops();if(null!==s&&void 0!==s&&s.length){for(const i of t)s[i.index]=i.value;i.forEach((t,i)=>{t.hasOwnProperty("ratio")?t.ratio=s[i]:t.value=s[i]})}}getUnzoomedMax(){return this.zoomOptions&&null!=this._max?this._max:this.max}getUnzoomedMin(){return this.zoomOptions&&null!=this._min?this._min:this.min}_storeZoomMax(t,i){this._max=i,this.setMax(t)}_storeZoomMin(t,i){this._min=i,this.setMin(t)}};(0,n._)([(0,o.MZ)()],h.prototype,"breaks",null),(0,n._)([(0,o.MZ)()],h.prototype,"stops",null),(0,n._)([(0,o.MZ)()],h.prototype,"hasTimeData",void 0),(0,n._)([(0,o.MZ)()],h.prototype,"inputFormatFunction",void 0),(0,n._)([(0,o.MZ)()],h.prototype,"inputParseFunction",void 0),(0,n._)([(0,o.MZ)()],h.prototype,"labelFormatFunction",void 0),(0,n._)([(0,o.MZ)({readOnly:!0})],h.prototype,"labels",null),(0,n._)([(0,o.MZ)()],h.prototype,"max",null),(0,n._)([(0,o.MZ)()],h.prototype,"min",null),(0,n._)([(0,o.MZ)({readOnly:!0})],h.prototype,"state",null),(0,n._)([(0,o.MZ)()],h.prototype,"thumbsConstrained",void 0),(0,n._)([(0,o.MZ)({readOnly:!0})],h.prototype,"values",null),(0,n._)([(0,o.MZ)()],h.prototype,"zoomingEnabled",void 0),(0,n._)([(0,o.MZ)()],h.prototype,"zoomOptions",null),h=(0,n._)([(0,l.$)("esri.widgets.smartMapping.SmartMappingSliderViewModel")],h);const u=h}}]);
//# sourceMappingURL=48146.4f5b17b6.chunk.js.map